# çŸ¥è¯†åº“å¤„ç†å¹³å°

<div align="center">

![çŸ¥è¯†åº“å¤„ç†å¹³å°](./client/public/logo.png)

**ä¼ä¸šçº§çŸ¥è¯†åº“ç®¡ç†ä¸AIæ™ºèƒ½å¤„ç†å¹³å°**

[![License](https://img.shields.io/badge/license-MIT-blue.svg)](LICENSE)
[![Node](https://img.shields.io/badge/node-%3E%3D18.0.0-brightgreen.svg)](https://nodejs.org/)
[![React](https://img.shields.io/badge/react-19-blue.svg)](https://reactjs.org/)

[åŠŸèƒ½ç‰¹æ€§](#åŠŸèƒ½ç‰¹æ€§) â€¢ [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹) â€¢ [éƒ¨ç½²æŒ‡å—](#éƒ¨ç½²æŒ‡å—) â€¢ [æŠ€æœ¯æ ˆ](#æŠ€æœ¯æ ˆ) â€¢ [æ–‡æ¡£](#æ–‡æ¡£)

</div>

---

## ğŸ“– é¡¹ç›®ç®€ä»‹

çŸ¥è¯†åº“å¤„ç†å¹³å°æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„ä¼ä¸šçº§çŸ¥è¯†ç®¡ç†ç³»ç»Ÿï¼Œæ”¯æŒå¤šæ ¼å¼æ–‡æ¡£æ™ºèƒ½è§£æã€AIè‡ªåŠ¨åŠ å·¥ã€çŸ¥è¯†åº“ç®¡ç†å’Œæ™ºèƒ½é—®ç­”ã€‚é€‚ç”¨äºä¼ä¸šæ–‡æ¡£ç®¡ç†ã€å­¦æœ¯æ–‡çŒ®æ•´ç†ã€æŠ€æœ¯æ–‡æ¡£å½’æ¡£ç­‰åœºæ™¯ã€‚

### âœ¨ åŠŸèƒ½ç‰¹æ€§

#### ğŸ“„ å¤šæ ¼å¼æ–‡æ¡£è§£æ
- **æ–‡æ¡£ç±»å‹**: PDFã€Wordã€Excelã€PowerPoint
- **å›¾ç‰‡æ ¼å¼**: JPGã€PNGã€TIFFã€BMP
- **éŸ³è§†é¢‘**: MP3ã€WAVã€MP4ã€AVI
- **æ™ºèƒ½è¯†åˆ«**: è‡ªåŠ¨OCRæ–‡å­—è¯†åˆ«ã€ASRè¯­éŸ³è½¬å†™

#### ğŸ¤– AIæ™ºèƒ½å¤„ç†
- **æ–‡æœ¬æå–**: ä¸‰å±‚æ™ºèƒ½æ¶æ„ï¼ˆMinerU + pdf-parse + LLMå¤šæ¨¡æ€ï¼‰
- **æ™ºèƒ½åˆ†æ®µ**: åŸºäºè¯­ä¹‰çš„æ–‡æœ¬åˆ†æ®µ
- **è‡ªåŠ¨æ‘˜è¦**: ç”Ÿæˆç²¾å‡†çš„æ–‡æ¡£æ‘˜è¦
- **å…³é”®è¯æå–**: æ™ºèƒ½æå–æ ¸å¿ƒå…³é”®è¯
- **QAå¯¹ç”Ÿæˆ**: è‡ªåŠ¨ç”Ÿæˆé«˜è´¨é‡é—®ç­”å¯¹
- **å¤šæ¨¡æ€èåˆ**: æ”¯æŒå›¾æ–‡ã€éŸ³è§†é¢‘æ··åˆå¤„ç†

#### ğŸ“š çŸ¥è¯†åº“ç®¡ç†
- **åˆ†ç±»ç®¡ç†**: RAGã€SFTã€é¢„è®­ç»ƒã€å¤šæ¨¡æ€åˆ†ç±»
- **æ ‡ç­¾ç³»ç»Ÿ**: çµæ´»çš„æ ‡ç­¾ç®¡ç†
- **ç‰ˆæœ¬æ§åˆ¶**: çŸ¥è¯†ç‰‡æ®µç‰ˆæœ¬è¿½è¸ª
- **çŠ¶æ€ç®¡ç†**: è‰ç¨¿ã€å®¡æ ¸ã€å‘å¸ƒæµç¨‹
- **å…¨æ–‡æœç´¢**: å¿«é€Ÿæ£€ç´¢çŸ¥è¯†å†…å®¹

#### ğŸ’¬ é—®ç­”å¯¹ç®¡ç†
- **æ‰¹é‡ç”Ÿæˆ**: åŸºäºæ–‡æ¡£è‡ªåŠ¨ç”ŸæˆQAå¯¹
- **äººå·¥å®¡æ ¸**: æ”¯æŒäººå·¥ç¼–è¾‘å’Œå®¡æ ¸
- **è´¨é‡æ§åˆ¶**: é—®ç­”å¯¹è´¨é‡è¯„ä¼°
- **å¯¼å‡ºåŠŸèƒ½**: æ”¯æŒå¤šç§æ ¼å¼å¯¼å‡º

#### ğŸ‘¥ ç”¨æˆ·æƒé™ç®¡ç†
- **è§’è‰²ç®¡ç†**: ç®¡ç†å‘˜ã€æ™®é€šç”¨æˆ·
- **æƒé™æ§åˆ¶**: ç»†ç²’åº¦æƒé™è®¾ç½®
- **éƒ¨é—¨ç®¡ç†**: æ”¯æŒå¤šéƒ¨é—¨åä½œ
- **å®¡æ ¸æµç¨‹**: å†…å®¹å®¡æ ¸å·¥ä½œæµ

#### ğŸ“Š æ•°æ®ç»Ÿè®¡
- **å®æ—¶ç»Ÿè®¡**: æ•°æ®æºã€çŸ¥è¯†ç‰‡æ®µã€QAå¯¹ç»Ÿè®¡
- **ä»»åŠ¡ç›‘æ§**: å¤„ç†ä»»åŠ¡è¿›åº¦è·Ÿè¸ª
- **å¯è§†åŒ–**: æ•°æ®å¯è§†åŒ–å±•ç¤º

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- Node.js >= 18.0.0
- pnpm >= 8.0.0
- MySQL >= 8.0 æˆ– TiDB
- S3å…¼å®¹å¯¹è±¡å­˜å‚¨
- OpenAIå…¼å®¹LLM API

### å®‰è£…æ­¥éª¤

1. **å…‹éš†é¡¹ç›®**

```bash
git clone https://github.com/your-username/knowledge-base-platform.git
cd knowledge-base-platform
```

2. **å®‰è£…ä¾èµ–**

```bash
pnpm install
```

3. **é…ç½®ç¯å¢ƒå˜é‡**

åˆ›å»º `.env` æ–‡ä»¶å¹¶é…ç½®å¿…è¦çš„ç¯å¢ƒå˜é‡ï¼š

```env
# åº”ç”¨é…ç½®
VITE_APP_TITLE=çŸ¥è¯†åº“å¤„ç†å¹³å°
VITE_APP_LOGO=/logo.png

# æ•°æ®åº“
DATABASE_URL=mysql://user:password@localhost:3306/knowledge_base

# JWTå¯†é’¥
JWT_SECRET=your-random-secret-key

# S3å­˜å‚¨
S3_ENDPOINT=https://s3.amazonaws.com
S3_ACCESS_KEY_ID=your-key
S3_SECRET_ACCESS_KEY=your-secret
S3_BUCKET=your-bucket

# LLM API
LLM_API_URL=https://api.openai.com/v1
LLM_API_KEY=sk-your-key
```

è¯¦ç»†é…ç½®è¯´æ˜è¯·å‚è€ƒ [ç¯å¢ƒå˜é‡é…ç½®æ–‡æ¡£](#ç¯å¢ƒå˜é‡é…ç½®)

4. **åˆå§‹åŒ–æ•°æ®åº“**

```bash
pnpm db:push
```

5. **å¯åŠ¨å¼€å‘æœåŠ¡å™¨**

```bash
pnpm dev
```

è®¿é—® `http://localhost:3000`

---

## ğŸ—ï¸ æŠ€æœ¯æ ˆ

### å‰ç«¯
- **æ¡†æ¶**: React 19
- **æ ·å¼**: Tailwind CSS 4
- **ç»„ä»¶åº“**: shadcn/ui
- **è·¯ç”±**: wouter
- **çŠ¶æ€ç®¡ç†**: React Query (via tRPC)
- **æ„å»ºå·¥å…·**: Vite

### åç«¯
- **è¿è¡Œæ—¶**: Node.js 22
- **æ¡†æ¶**: Express 4
- **API**: tRPC 11
- **æ•°æ®åº“**: Drizzle ORM + MySQL
- **è®¤è¯**: JWT + OAuth
- **æ–‡ä»¶å­˜å‚¨**: S3 SDK

### AIèƒ½åŠ›
- **æ–‡æ¡£è§£æ**: MinerU + pdf-parse
- **OCR**: LLMå¤šæ¨¡æ€
- **ASR**: LLMå¤šæ¨¡æ€
- **æ–‡æœ¬å¤„ç†**: LLMç»“æ„åŒ–è¾“å‡º

---

## ğŸ“¦ éƒ¨ç½²æŒ‡å—

### Dockeréƒ¨ç½²ï¼ˆæ¨èï¼‰

#### ä½¿ç”¨Docker Compose

```bash
# å¤åˆ¶ç¯å¢ƒå˜é‡æ–‡ä»¶
cp .env.example .env

# ç¼–è¾‘.envé…ç½®å¿…è¦çš„ç¯å¢ƒå˜é‡
vim .env

# å¯åŠ¨æ‰€æœ‰æœåŠ¡
docker-compose up -d

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f app
```

#### ä»…å¯åŠ¨åº”ç”¨ï¼ˆä½¿ç”¨å¤–éƒ¨æ•°æ®åº“ï¼‰

```bash
docker-compose up -d app
```

#### åŒ…å«MinIOå¯¹è±¡å­˜å‚¨

```bash
docker-compose --profile with-minio up -d
```

### ä¼ ç»Ÿéƒ¨ç½²

è¯¦ç»†éƒ¨ç½²æ­¥éª¤è¯·å‚è€ƒ [DEPLOYMENT.md](./DEPLOYMENT.md)

---

## ğŸ”§ ç¯å¢ƒå˜é‡é…ç½®

### å¿…éœ€é…ç½®

| å˜é‡å | è¯´æ˜ | ç¤ºä¾‹ |
|--------|------|------|
| `DATABASE_URL` | MySQLè¿æ¥å­—ç¬¦ä¸² | `mysql://user:pass@host:3306/db` |
| `JWT_SECRET` | JWTå¯†é’¥ | éšæœºå­—ç¬¦ä¸² |
| `S3_ENDPOINT` | S3æœåŠ¡ç«¯ç‚¹ | `https://s3.amazonaws.com` |
| `S3_ACCESS_KEY_ID` | S3è®¿é—®å¯†é’¥ID | - |
| `S3_SECRET_ACCESS_KEY` | S3è®¿é—®å¯†é’¥ | - |
| `S3_BUCKET` | S3å­˜å‚¨æ¡¶åç§° | `knowledge-base-files` |
| `LLM_API_URL` | LLM APIåœ°å€ | `https://api.openai.com/v1` |
| `LLM_API_KEY` | LLM APIå¯†é’¥ | `sk-xxx` |

### å¯é€‰é…ç½®

| å˜é‡å | è¯´æ˜ | é»˜è®¤å€¼ |
|--------|------|--------|
| `VITE_APP_TITLE` | åº”ç”¨æ ‡é¢˜ | `çŸ¥è¯†åº“å¤„ç†å¹³å°` |
| `VITE_APP_LOGO` | åº”ç”¨Logoè·¯å¾„ | `/logo.png` |
| `LLM_MODEL` | LLMæ¨¡å‹åç§° | `gpt-4o` |
| `S3_REGION` | S3åŒºåŸŸ | `us-east-1` |
| `OWNER_OPEN_ID` | ç®¡ç†å‘˜ID | `admin` |
| `OWNER_NAME` | ç®¡ç†å‘˜å§“å | `ç®¡ç†å‘˜` |

### å›½å†…æœåŠ¡é…ç½®ç¤ºä¾‹

<details>
<summary>ç‚¹å‡»å±•å¼€æŸ¥çœ‹å›½å†…LLMå’Œå­˜å‚¨æœåŠ¡é…ç½®</summary>

#### æ™ºè°±AI (GLM-4)
```env
LLM_API_URL=https://open.bigmodel.cn/api/paas/v4
LLM_API_KEY=your-zhipu-api-key
LLM_MODEL=glm-4
```

#### é˜¿é‡Œäº‘é€šä¹‰åƒé—®
```env
LLM_API_URL=https://dashscope.aliyuncs.com/compatible-mode/v1
LLM_API_KEY=sk-your-dashscope-key
LLM_MODEL=qwen-turbo
```

#### é˜¿é‡Œäº‘OSS
```env
S3_ENDPOINT=https://oss-cn-hangzhou.aliyuncs.com
S3_REGION=oss-cn-hangzhou
S3_ACCESS_KEY_ID=your-aliyun-access-key-id
S3_SECRET_ACCESS_KEY=your-aliyun-access-key-secret
S3_BUCKET=your-bucket-name
```

#### è…¾è®¯äº‘COS
```env
S3_ENDPOINT=https://cos.ap-guangzhou.myqcloud.com
S3_REGION=ap-guangzhou
S3_ACCESS_KEY_ID=your-tencent-secret-id
S3_SECRET_ACCESS_KEY=your-tencent-secret-key
S3_BUCKET=your-bucket-name
```

</details>

---

## ğŸ“š æ–‡æ¡£

- [éƒ¨ç½²æŒ‡å—](./DEPLOYMENT.md) - è¯¦ç»†çš„éƒ¨ç½²è¯´æ˜
- [APIæ–‡æ¡£](./docs/API.md) - tRPC APIæ¥å£æ–‡æ¡£
- [å¼€å‘æŒ‡å—](./docs/DEVELOPMENT.md) - å¼€å‘ç¯å¢ƒé…ç½®å’Œæœ€ä½³å®è·µ
- [æ¶æ„è®¾è®¡](./docs/ARCHITECTURE.md) - ç³»ç»Ÿæ¶æ„è®¾è®¡æ–‡æ¡£

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ä»£ç ï¼è¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

1. Forkæœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯Pull Request

---

## ğŸ“„ å¼€æºåè®®

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT](LICENSE) åè®®å¼€æºã€‚

---

## ğŸ™ è‡´è°¢

- [React](https://reactjs.org/)
- [Tailwind CSS](https://tailwindcss.com/)
- [shadcn/ui](https://ui.shadcn.com/)
- [tRPC](https://trpc.io/)
- [Drizzle ORM](https://orm.drizzle.team/)
- [MinerU](https://github.com/opendatalab/MinerU)

---

## ğŸ“§ è”ç³»æ–¹å¼

- GitHub Issues: [æäº¤é—®é¢˜](https://github.com/your-username/knowledge-base-platform/issues)
- Email: your-email@example.com

---

<div align="center">

**â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ªStaræ”¯æŒä¸€ä¸‹ï¼**

Made with â¤ï¸ by [Your Name]

</div>

